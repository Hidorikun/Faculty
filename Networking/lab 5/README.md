
</head>

<body lang="EN-US" link="blue" vlink="purple" style="tab-interval:36.0pt">

<div class="WordSection1">

<p class="MsoTitle">Lab5</p>

<p class="MsoNormal" align="center" style="text-align:center"><i>Last modified</i>:
<span style="mso-field-code:&quot;SAVEDATE  \\* MERGEFORMAT&quot;"><span style="mso-no-proof:yes">10/12/2015 10:22:00</span></span></p>

<p class="MsoNormal"><o:p>&nbsp;</o:p></p>

<p class="MsoNormal" style="margin-bottom:6.0pt"><span style="font-size:11.0pt;
font-family:&quot;Verdana&quot;,&quot;sans-serif&quot;"><o:p>&nbsp;</o:p></span></p>

<p class="MsoNormal" style="margin-bottom:6.0pt;text-align:justify"><span style="font-size:11.0pt;font-family:&quot;Verdana&quot;,&quot;sans-serif&quot;">Use Packet Tracer
to create a network topology like the one bellow and setup IP Addressing and
manual routes such that:<o:p></o:p></span></p>

<p class="MsoListParagraphCxSpFirst" style="margin-bottom:6.0pt;mso-add-space:
auto;text-align:justify;text-indent:-18.0pt;mso-list:l3 level1 lfo2"><!--[if !supportLists]--><span style="font-size:11.0pt;font-family:Symbol;mso-fareast-font-family:Symbol;
mso-bidi-font-family:Symbol"><span style="mso-list:Ignore">-<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><!--[endif]--><span style="font-size:11.0pt;font-family:&quot;Verdana&quot;,&quot;sans-serif&quot;">All
local LAN PCs<span style="mso-spacerun:yes">&nbsp; </span>have intra-<span class="SpellE">lan</span> access to each other (ping)<o:p></o:p></span></p>

<p class="MsoListParagraphCxSpMiddle" style="margin-bottom:6.0pt;mso-add-space:
auto;text-align:justify;text-indent:-18.0pt;mso-list:l3 level1 lfo2"><!--[if !supportLists]--><span style="font-size:11.0pt;font-family:Symbol;mso-fareast-font-family:Symbol;
mso-bidi-font-family:Symbol"><span style="mso-list:Ignore">-<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><!--[endif]--><span style="font-size:11.0pt;font-family:&quot;Verdana&quot;,&quot;sans-serif&quot;">Setup
routing such that LAN 192.168.2.0/24 and 192.168.3.0/24 could access each
other. Do you need to do anything?<o:p></o:p></span></p>

<p class="MsoListParagraphCxSpMiddle" style="margin-bottom:6.0pt;mso-add-space:
auto;text-align:justify;text-indent:-18.0pt;mso-list:l3 level1 lfo2"><!--[if !supportLists]--><span style="font-size:11.0pt;font-family:Symbol;mso-fareast-font-family:Symbol;
mso-bidi-font-family:Symbol"><span style="mso-list:Ignore">-<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><!--[endif]--><span style="font-size:11.0pt;font-family:&quot;Verdana&quot;,&quot;sans-serif&quot;">Setup
NAT access from all networks to the server in Internet (193.231.20.2) such that
its web server is accessible from all LANs<o:p></o:p></span></p>

<p class="MsoListParagraphCxSpMiddle" style="margin-bottom:6.0pt;mso-add-space:
auto;text-align:justify;text-indent:-18.0pt;mso-list:l3 level1 lfo2"><!--[if !supportLists]--><span style="font-size:11.0pt;font-family:Symbol;mso-fareast-font-family:Symbol;
mso-bidi-font-family:Symbol"><span style="mso-list:Ignore">-<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><!--[endif]--><span style="font-size:11.0pt;font-family:&quot;Verdana&quot;,&quot;sans-serif&quot;">Setup
physical locations for all equipment such that <o:p></o:p></span></p>

<p class="MsoListParagraphCxSpMiddle" style="margin-top:0cm;margin-right:0cm;
margin-bottom:6.0pt;margin-left:72.0pt;mso-add-space:auto;text-align:justify;
text-indent:-18.0pt;mso-list:l3 level2 lfo2"><!--[if !supportLists]--><span style="font-size:11.0pt;font-family:&quot;Courier New&quot;;mso-fareast-font-family:&quot;Courier New&quot;"><span style="mso-list:Ignore">o<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;
</span></span></span><!--[endif]--><span style="font-size:11.0pt;font-family:&quot;Verdana&quot;,&quot;sans-serif&quot;">192.168.0.0
is in city <span class="SpellE">Cluj</span> <span class="SpellE">Napoca</span>,
building UPC (at least 1km away from FSEGA and <span class="SpellE">UBBMainBuilding</span>)<o:p></o:p></span></p>

<p class="MsoListParagraphCxSpMiddle" style="margin-top:0cm;margin-right:0cm;
margin-bottom:6.0pt;margin-left:72.0pt;mso-add-space:auto;text-align:justify;
text-indent:-18.0pt;mso-list:l3 level2 lfo2"><!--[if !supportLists]--><span style="font-size:11.0pt;font-family:&quot;Courier New&quot;;mso-fareast-font-family:&quot;Courier New&quot;"><span style="mso-list:Ignore">o<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;
</span></span></span><!--[endif]--><span style="font-size:11.0pt;font-family:&quot;Verdana&quot;,&quot;sans-serif&quot;">192.168.1.0
is in city Bucharest, building ROEDU (at least 1km away from other buildings in
Bucharest)<o:p></o:p></span></p>

<p class="MsoListParagraphCxSpMiddle" style="margin-top:0cm;margin-right:0cm;
margin-bottom:6.0pt;margin-left:72.0pt;mso-add-space:auto;text-align:justify;
text-indent:-18.0pt;mso-list:l3 level2 lfo2"><!--[if !supportLists]--><span style="font-size:11.0pt;font-family:&quot;Courier New&quot;;mso-fareast-font-family:&quot;Courier New&quot;"><span style="mso-list:Ignore">o<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;
</span></span></span><!--[endif]--><span style="font-size:11.0pt;font-family:&quot;Verdana&quot;,&quot;sans-serif&quot;">192.168.2.0
is in city <span class="SpellE">Cluj</span> <span class="SpellE">Napoca</span>,
building FSEGA (at least 1km away from other building in <span class="SpellE">Cluj</span>
<span class="SpellE">Napoca</span>)<o:p></o:p></span></p>

<p class="MsoListParagraphCxSpMiddle" style="margin-top:0cm;margin-right:0cm;
margin-bottom:6.0pt;margin-left:72.0pt;mso-add-space:auto;text-align:justify;
text-indent:-18.0pt;mso-list:l3 level2 lfo2"><!--[if !supportLists]--><span style="font-size:11.0pt;font-family:&quot;Courier New&quot;;mso-fareast-font-family:&quot;Courier New&quot;"><span style="mso-list:Ignore">o<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;
</span></span></span><!--[endif]--><span style="font-size:11.0pt;font-family:&quot;Verdana&quot;,&quot;sans-serif&quot;">192.168.3.0
is in city <span class="SpellE">Cluj</span> <span class="SpellE">Napoca</span>, <span class="SpellE">UBBMainBuilding</span> (at least 1km away from other building in <span class="SpellE">Cluj</span> <span class="SpellE">Napoca</span>)<o:p></o:p></span></p>

<p class="MsoListParagraphCxSpLast" style="margin-top:0cm;margin-right:0cm;
margin-bottom:6.0pt;margin-left:72.0pt;mso-add-space:auto;text-align:justify;
text-indent:-18.0pt;mso-list:l3 level2 lfo2"><!--[if !supportLists]--><span style="font-size:11.0pt;font-family:&quot;Courier New&quot;;mso-fareast-font-family:&quot;Courier New&quot;"><span style="mso-list:Ignore">o<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;
</span></span></span><!--[endif]--><span style="font-size:11.0pt;font-family:&quot;Verdana&quot;,&quot;sans-serif&quot;">193.231.20.2
is in city Bucharest, building Google (at least 1km away from other buildings
in Bucharest)<o:p></o:p></span></p>

<p class="MsoNormal" style="margin-bottom:6.0pt;text-align:justify"><span style="font-size:11.0pt;font-family:&quot;Verdana&quot;,&quot;sans-serif&quot;"><o:p>&nbsp;</o:p></span></p>

<p class="MsoNormal" style="margin-bottom:6.0pt;text-align:justify"><span style="font-size:11.0pt;font-family:&quot;Verdana&quot;,&quot;sans-serif&quot;">The links between
R1-R2-R3 are serial links. You need to add serial interfaces to those 1841
Routers as they are not equipped with. There is no special setup for serial
links otherwise. Just IP addressing.<o:p></o:p></span></p>

<p class="MsoNormal" style="margin-bottom:6.0pt;text-align:justify"><span style="font-size:11.0pt;font-family:&quot;Verdana&quot;,&quot;sans-serif&quot;">Requirements:<o:p></o:p></span></p>

<p class="MsoListParagraphCxSpFirst" style="margin-bottom:6.0pt;mso-add-space:
auto;text-align:justify;text-indent:-18.0pt;mso-list:l2 level1 lfo4"><!--[if !supportLists]--><span style="font-size:11.0pt;font-family:&quot;Verdana&quot;,&quot;sans-serif&quot;;mso-fareast-font-family:
Verdana;mso-bidi-font-family:Verdana"><span style="mso-list:Ignore">1.<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp; </span></span></span><!--[endif]--><span style="font-size:11.0pt;font-family:&quot;Verdana&quot;,&quot;sans-serif&quot;">Be able to access
the Internet Server 193.231.20.2 from all networks (NAT)<o:p></o:p></span></p>

<p class="MsoListParagraphCxSpMiddle" style="margin-bottom:6.0pt;mso-add-space:
auto;text-align:justify;text-indent:-18.0pt;mso-list:l2 level1 lfo4"><!--[if !supportLists]--><span style="font-size:11.0pt;font-family:&quot;Verdana&quot;,&quot;sans-serif&quot;;mso-fareast-font-family:
Verdana;mso-bidi-font-family:Verdana"><span style="mso-list:Ignore">2.<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp; </span></span></span><!--[endif]--><span style="font-size:11.0pt;font-family:&quot;Verdana&quot;,&quot;sans-serif&quot;">Be able to access
networks 192.168.2.0 and 192.168.3.0 from each other<o:p></o:p></span></p>

<p class="MsoListParagraphCxSpMiddle" style="margin-bottom:6.0pt;mso-add-space:
auto;text-align:justify;text-indent:-18.0pt;mso-list:l2 level1 lfo4"><!--[if !supportLists]--><span style="font-size:11.0pt;font-family:&quot;Verdana&quot;,&quot;sans-serif&quot;;mso-fareast-font-family:
Verdana;mso-bidi-font-family:Verdana"><span style="mso-list:Ignore">3.<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp; </span></span></span><!--[endif]--><span style="font-size:11.0pt;font-family:&quot;Verdana&quot;,&quot;sans-serif&quot;">What happens with
network access between private nets 192.168.0.0 and <span class="GramE">192.168.1.0.</span>
<o:p></o:p></span></p>

<p class="MsoListParagraphCxSpLast" style="margin-bottom:6.0pt;mso-add-space:
auto;text-align:justify;text-indent:-18.0pt;mso-list:l2 level1 lfo4"><!--[if !supportLists]--><span style="font-size:11.0pt;font-family:&quot;Verdana&quot;,&quot;sans-serif&quot;;mso-fareast-font-family:
Verdana;mso-bidi-font-family:Verdana"><span style="mso-list:Ignore">4.<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp; </span></span></span><!--[endif]--><span style="font-size:11.0pt;font-family:&quot;Verdana&quot;,&quot;sans-serif&quot;">What happens with
network access between private nets <span class="GramE">192.168.x.0 ?</span> Can
this be <span class="GramE">solved ?</span><o:p></o:p></span></p>

<p class="MsoNormal" style="margin-bottom:6.0pt;text-align:justify"><span style="font-size:11.0pt;font-family:&quot;Verdana&quot;,&quot;sans-serif&quot;"><o:p>&nbsp;</o:p></span></p>

<p class="MsoNormal" style="margin-bottom:6.0pt;text-align:justify"><span style="font-size:11.0pt;font-family:&quot;Verdana&quot;,&quot;sans-serif&quot;"><o:p>&nbsp;</o:p></span></p>

<p class="MsoListParagraphCxSpFirst" style="margin-top:0cm;margin-right:0cm;
margin-bottom:6.0pt;margin-left:0cm;mso-add-space:auto;text-align:justify"><span style="font-size:11.0pt;font-family:&quot;Verdana&quot;,&quot;sans-serif&quot;"><o:p>&nbsp;</o:p></span></p>

<p class="MsoListParagraphCxSpMiddle" style="margin-top:0cm;margin-right:0cm;
margin-bottom:6.0pt;margin-left:0cm;mso-add-space:auto;text-align:justify"><span style="font-size:11.0pt;font-family:&quot;Verdana&quot;,&quot;sans-serif&quot;">You will need to
familiarize yourself with the following procedures for solving the problem:<o:p></o:p></span></p>

<p class="MsoListParagraphCxSpMiddle" style="margin-bottom:6.0pt;mso-add-space:
auto;text-align:justify;text-indent:-18.0pt;mso-list:l4 level1 lfo6"><!--[if !supportLists]--><span style="font-size:11.0pt;font-family:&quot;Verdana&quot;,&quot;sans-serif&quot;;mso-fareast-font-family:
Verdana;mso-bidi-font-family:Verdana"><span style="mso-list:Ignore">1.<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp; </span></span></span><!--[endif]--><span style="font-size:11.0pt;font-family:&quot;Verdana&quot;,&quot;sans-serif&quot;">Router CLI
interface and commands for setting up:<o:p></o:p></span></p>

<p class="MsoListParagraphCxSpMiddle" style="margin-top:0cm;margin-right:0cm;
margin-bottom:6.0pt;margin-left:72.0pt;mso-add-space:auto;text-align:justify;
text-indent:-18.0pt;mso-list:l4 level2 lfo6"><!--[if !supportLists]--><span style="font-size:11.0pt;font-family:&quot;Verdana&quot;,&quot;sans-serif&quot;;mso-fareast-font-family:
Verdana;mso-bidi-font-family:Verdana"><span style="mso-list:Ignore">a.<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp; </span></span></span><!--[endif]--><span style="font-size:11.0pt;font-family:&quot;Verdana&quot;,&quot;sans-serif&quot;">Enter admin mode in
a router CLI <i style="mso-bidi-font-style:normal">(enable)</i><o:p></o:p></span></p>

<p class="MsoListParagraphCxSpMiddle" style="margin-top:0cm;margin-right:0cm;
margin-bottom:6.0pt;margin-left:72.0pt;mso-add-space:auto;text-align:justify;
text-indent:-18.0pt;mso-list:l4 level2 lfo6"><!--[if !supportLists]--><span style="font-size:11.0pt;font-family:&quot;Verdana&quot;,&quot;sans-serif&quot;;mso-fareast-font-family:
Verdana;mso-bidi-font-family:Verdana"><span style="mso-list:Ignore">b.<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp; </span></span></span><!--[endif]--><span style="font-size:11.0pt;font-family:&quot;Verdana&quot;,&quot;sans-serif&quot;">Enter configuration
mode in router CLI <i style="mso-bidi-font-style:normal">(<span class="SpellE">config</span>
terminal or <span class="SpellE">conf</span> t)</i><o:p></o:p></span></p>

<p class="MsoListParagraphCxSpMiddle" style="margin-top:0cm;margin-right:0cm;
margin-bottom:6.0pt;margin-left:72.0pt;mso-add-space:auto;text-align:justify;
text-indent:-18.0pt;mso-list:l4 level2 lfo6"><!--[if !supportLists]--><span style="font-size:11.0pt;font-family:&quot;Verdana&quot;,&quot;sans-serif&quot;;mso-fareast-font-family:
Verdana;mso-bidi-font-family:Verdana"><span style="mso-list:Ignore">c.<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp; </span></span></span><!--[endif]--><span style="font-size:11.0pt;font-family:&quot;Verdana&quot;,&quot;sans-serif&quot;">Manage Static
routes <i style="mso-bidi-font-style:normal">(in configure mode - <span class="SpellE">ip</span> route -.)</i><o:p></o:p></span></p>

<p class="MsoListParagraphCxSpMiddle" style="margin-top:0cm;margin-right:0cm;
margin-bottom:6.0pt;margin-left:72.0pt;mso-add-space:auto;text-align:justify;
text-indent:-18.0pt;mso-list:l4 level2 lfo6"><!--[if !supportLists]--><span style="font-size:11.0pt;font-family:&quot;Verdana&quot;,&quot;sans-serif&quot;;mso-fareast-font-family:
Verdana;mso-bidi-font-family:Verdana"><span style="mso-list:Ignore">d.<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp; </span></span></span><!--[endif]--><span style="font-size:11.0pt;font-family:&quot;Verdana&quot;,&quot;sans-serif&quot;">DHCP pools for
local LANs <i style="mso-bidi-font-style:normal">(in configure mode - <span class="SpellE">ip</span> <span class="SpellE">dhcp</span> pool -.)</i><o:p></o:p></span></p>

<p class="MsoListParagraphCxSpMiddle" style="margin-top:0cm;margin-right:0cm;
margin-bottom:6.0pt;margin-left:72.0pt;mso-add-space:auto;text-align:justify;
text-indent:-18.0pt;mso-list:l4 level2 lfo6"><!--[if !supportLists]--><span style="font-size:11.0pt;font-family:&quot;Verdana&quot;,&quot;sans-serif&quot;;mso-fareast-font-family:
Verdana;mso-bidi-font-family:Verdana"><span style="mso-list:Ignore">e.<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp; </span></span></span><!--[endif]--><span style="font-size:11.0pt;font-family:&quot;Verdana&quot;,&quot;sans-serif&quot;">NAT setup <i style="mso-bidi-font-style:normal">( in configure mode <span class="SpellE">ip</span>
<span class="SpellE">nat</span> inside/outside , <span class="SpellE">etc</span>)</i><o:p></o:p></span></p>

<p class="MsoListParagraphCxSpLast" style="margin-top:0cm;margin-right:0cm;
margin-bottom:6.0pt;margin-left:72.0pt;mso-add-space:auto;text-align:justify;
text-indent:-18.0pt;mso-list:l4 level2 lfo6"><!--[if !supportLists]--><span style="font-size:11.0pt;font-family:&quot;Verdana&quot;,&quot;sans-serif&quot;;mso-fareast-font-family:
Verdana;mso-bidi-font-family:Verdana"><span style="mso-list:Ignore">f.<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span><!--[endif]--><span style="font-size:11.0pt;font-family:&quot;Verdana&quot;,&quot;sans-serif&quot;">Show configuration <i style="mso-bidi-font-style:normal">(enable or just at prompt - show -.)</i><o:p></o:p></span></p>

<p class="MsoNormal" style="margin-bottom:6.0pt;text-align:justify"><span style="font-size:11.0pt;font-family:&quot;Verdana&quot;,&quot;sans-serif&quot;"><o:p>&nbsp;</o:p></span></p>

![network](https://user-images.githubusercontent.com/23582924/35186053-a67e2bca-fe16-11e7-920b-d54495208862.jpg)

<p class="MsoNormal" style="margin-bottom:6.0pt;text-align:justify"><span style="font-size:11.0pt;font-family:&quot;Verdana&quot;,&quot;sans-serif&quot;"><o:p>&nbsp;</o:p></span></p>

<h1>Notes:</h1>

<h2>Router Configuration</h2>

<p class="MsoNormal"><span style="mso-tab-count:1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>For any
equipment configuration try to setup things in the <span class="SpellE">config</span>
tab and watch the equivalent commands as you should have enter them in order to
accomplish the same task in the bottom side of the window. There are things
that cannot be configured from the graphical user interface. In order to learn
new commands try the help system -?-.<span style="mso-spacerun:yes">&nbsp;
</span>After any part of a command entered, placing a -?- shows the remaining parameters
and their explanation.<span style="mso-spacerun:yes">&nbsp; </span>Usually a user
needs administrative privileges (or entering privileged mode) in order to apply
any new configuration changes to a router. The command to enter privileged mode
is <i style="mso-bidi-font-style:normal">enable</i>. </p>

<p class="MsoNormal">From privileged mode - most of configuration changes need a
special mode that is entered by using the command:</p>

<p class="MsoNormal"><span class="SpellE"><span class="GramE"><i style="mso-bidi-font-style:
normal">config</i></span></span><i style="mso-bidi-font-style:normal"> t - </i>as
configure terminal - which enters configuration mode. You need to type CTRL+Z
or <span class="GramE">exit .</span></p>

<p class="MsoNormal">In order to make router settings changes permanent one needs
to copy the <i style="mso-bidi-font-style:normal">current running configuration</i>
into the <i style="mso-bidi-font-style:normal">startup configuration</i>. The
command to accomplish this is <u>copy running-<span class="SpellE">config</span>
startup-<span class="SpellE">config</span>.</u> Upon reboot the router will keep
its configuration.</p>

<h2><o:p>&nbsp;</o:p></h2>

<h2>DHCP - configuration</h2>

<p class="MsoNormal"><span style="mso-tab-count:1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>In order to
configure a DCHP service on a router you need to setup a <span class="SpellE">dhcp</span>
pool, define its range and parameters and excluded IPs. The necessary commands
are (from <span class="SpellE">config</span> mode):</p>

<p class="MsoNormal">#define a <span class="SpellE">dhcp</span> pool of addresses
to be delivered</p>

<p class="MsoNormal"><span class="SpellE"><span class="GramE"><b style="mso-bidi-font-weight:
normal">ip</b></span></span><b style="mso-bidi-font-weight:normal"> <span class="SpellE">dhcp</span> pool &lt;<span class="SpellE">name_of_pool</span>&gt;<o:p></o:p></b></p>

<p class="MsoNormal"><b style="mso-bidi-font-weight:normal">Ex: </b><span class="SpellE">ip</span> <span class="SpellE">dhcp</span> pool <span class="SpellE"><span class="GramE">lan</span></span></p>

<p class="MsoNormal"><o:p>&nbsp;</o:p></p>

<p class="MsoNormal">#define the network range</p>

<p class="MsoNormal"><span class="GramE"><b style="mso-bidi-font-weight:normal">network</b></span><b style="mso-bidi-font-weight:normal"> 192.168.0.0 255.255.255.0<o:p></o:p></b></p>

<p class="MsoNormal"><b style="mso-bidi-font-weight:normal"><span style="font-size:11.0pt;font-family:&quot;Verdana&quot;,&quot;sans-serif&quot;"><o:p>&nbsp;</o:p></span></b></p>

<p class="MsoNormal">#define the default gateway (if any) that should be passed
to the clients</p>

<p class="MsoNormal"><span class="GramE"><b style="mso-bidi-font-weight:normal">default-router</b></span><b style="mso-bidi-font-weight:normal"> 192.168.0.1<o:p></o:p></b></p>

<p class="MsoNormal"><b style="mso-bidi-font-weight:normal"><o:p>&nbsp;</o:p></b></p>

<p class="MsoNormal">#define the DNS server (if any) that should be passed to the
clients</p>

<p class="MsoNormal"><span class="SpellE"><span class="GramE"><b style="mso-bidi-font-weight:
normal">dns</b></span></span><span class="GramE"><b style="mso-bidi-font-weight:
normal">-server</b></span><b style="mso-bidi-font-weight:normal"> 192.168.0.3<o:p></o:p></b></p>

<p class="MsoNormal"><b style="mso-bidi-font-weight:normal"><o:p>&nbsp;</o:p></b></p>

<p class="MsoNormal">#exit <span class="SpellE">dhcp</span> pool configuration</p>

<p class="MsoNormal"><span class="GramE"><b style="mso-bidi-font-weight:normal">exit</b></span><b style="mso-bidi-font-weight:normal"><o:p></o:p></b></p>

<p class="MsoNormal"><b style="mso-bidi-font-weight:normal"><o:p>&nbsp;</o:p></b></p>

<p class="MsoNormal"># <span class="GramE">If</span> there any IPs in that range
that you do not want to be served to PCs - add them to the excluded range:</p>

<p class="MsoNormal"><span class="SpellE"><span class="GramE"><b style="mso-bidi-font-weight:
normal">ip</b></span></span><b style="mso-bidi-font-weight:normal"> <span class="SpellE">dhcp</span> excluded-range 192.168.0.1 </b><span style="mso-spacerun:yes">&nbsp;</span><span style="mso-tab-count:1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>(for
a single IP)</p>

<p class="MsoNormal"><b style="mso-bidi-font-weight:normal">#</b>or</p>

<p class="MsoNormal"><span class="SpellE"><span class="GramE"><b style="mso-bidi-font-weight:
normal">ip</b></span></span><b style="mso-bidi-font-weight:normal"> <span class="SpellE">dhcp</span> excluded-range 192.168.0.1 192.168.0.10 <span style="mso-tab-count:2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></b>(for a range of IPs)</p>

<p class="MsoNormal"><o:p>&nbsp;</o:p></p>

<h2>NAT configuration </h2>

<p class="MsoNormal">In order to <span class="SpellE">config</span> NAT on a router
on needs to specify one or multiple <i style="mso-bidi-font-style:normal">inside
(local LAN) </i>interfaces and one or multiple <i style="mso-bidi-font-style:
normal">outside (WAN) </i>interface. After setting up NAT all packets
travelling from an inside interface to an outside <br>
interface are NAT-ted (their IP addresses are changed according to the NAT
policy in place).</p>

<p class="MsoNormal">Suppose in our case that <span class="SpellE">FastEthernet</span>
0/0 (192.168.0.0/24 range) is inside and Serial 0/0/0 (193.226.40.1) is
outside.</p>

<p class="MsoNormal">In order to accomplish NAT we do the following:</p>

<p class="MsoNormal">Router:</p>

<p class="MsoNormal"><span class="GramE"><b style="mso-bidi-font-weight:normal">enable</b></span><b style="mso-bidi-font-weight:normal"><o:p></o:p></b></p>

<p class="MsoNormal"><span class="SpellE"><span class="GramE"><b style="mso-bidi-font-weight:
normal">conf</b></span></span><b style="mso-bidi-font-weight:normal"> t<o:p></o:p></b></p>

<p class="MsoNormal"><span class="GramE"><b style="mso-bidi-font-weight:normal">interface</b></span><b style="mso-bidi-font-weight:normal"> <span class="SpellE">FastEthernet</span> 0/0<o:p></o:p></b></p>

<p class="MsoNormal"><b style="mso-bidi-font-weight:normal"><o:p>&nbsp;</o:p></b></p>

<p class="MsoNormal">#specify that this is an inside interface. The interface
needs to have an IP Address</p>

<p class="MsoNormal"><span class="SpellE"><span class="GramE"><b style="mso-bidi-font-weight:
normal">ip</b></span></span><b style="mso-bidi-font-weight:normal"> <span class="SpellE">nat</span> inside<o:p></o:p></b></p>

<p class="MsoNormal"><b style="mso-bidi-font-weight:normal"><span style="mso-spacerun:yes">&nbsp; </span><o:p></o:p></b></p>

<p class="MsoNormal"><span class="GramE"><b style="mso-bidi-font-weight:normal">exit</b></span><b style="mso-bidi-font-weight:normal"><o:p></o:p></b></p>

<p class="MsoNormal"><b style="mso-bidi-font-weight:normal"><o:p>&nbsp;</o:p></b></p>

<p class="MsoNormal">#define Serial 0/0/0 as WAN (outside) interface</p>

<p class="MsoNormal"><span class="GramE"><b style="mso-bidi-font-weight:normal">interface</b></span><b style="mso-bidi-font-weight:normal"> Serial 0/0/0<o:p></o:p></b></p>

<p class="MsoNormal"><span class="SpellE"><span class="GramE"><b style="mso-bidi-font-weight:
normal">ip</b></span></span><b style="mso-bidi-font-weight:normal"> <span class="SpellE">nat</span> outside<o:p></o:p></b></p>

<p class="MsoNormal"><b style="mso-bidi-font-weight:normal"><o:p>&nbsp;</o:p></b></p>

<p class="MsoNormal"><span class="GramE"><b style="mso-bidi-font-weight:normal">exit</b></span><b style="mso-bidi-font-weight:normal"><o:p></o:p></b></p>

<p class="MsoNormal"><b style="mso-bidi-font-weight:normal"><o:p>&nbsp;</o:p></b></p>

<p class="MsoNormal">#define an Access list with the addresses from the inside
that can be <span class="SpellE">nat</span>-ted. The 0.0.0.31 specify the masks
of bits from the IP Address that can vary. In our example bellow all addresses
between 192.168.0.1 - 192.168.0.31 would <span class="GramE">pass !</span></p>

<p class="MsoNormal"><span class="GramE"><b style="mso-bidi-font-weight:normal">access-list</b></span><b style="mso-bidi-font-weight:normal"> 1 permit 192.168.0.1 0.0.0.31<o:p></o:p></b></p>

<p class="MsoNormal"><b style="mso-bidi-font-weight:normal"><o:p>&nbsp;</o:p></b></p>

<p class="MsoNormal">#define a pool of addresses to be allocated to the clients
when NAT-ted. First IP - last IP <span class="SpellE">netmask</span> for those
IPs</p>

<p class="MsoNormal"><span class="SpellE"><span class="GramE"><b style="mso-bidi-font-weight:
normal">ip</b></span></span><b style="mso-bidi-font-weight:normal"> <span class="SpellE">nat</span> pool ISP 193.226.40.1 193.226.40.1 <span class="SpellE">netmask</span>
255.255.255.252<o:p></o:p></b></p>

<p class="MsoNormal"><o:p>&nbsp;</o:p></p>

<p class="MsoNormal">#define the NAT policy. Overload allows to use a single
outside IP from the defined pool for multiple clients - by altering the port.
One port is allocated on that IP for each outgoing client. Overload allows this
behavior.</p>

<p class="MsoNormal"><span class="SpellE"><span class="GramE"><b style="mso-bidi-font-weight:
normal">ip</b></span></span><b style="mso-bidi-font-weight:normal"> <span class="SpellE">nat</span> inside source list 1 pool ISP overload<o:p></o:p></b></p>

<p class="MsoNormal"><o:p>&nbsp;</o:p></p>

<p class="MsoNormal"><o:p>&nbsp;</o:p></p>

</div>
